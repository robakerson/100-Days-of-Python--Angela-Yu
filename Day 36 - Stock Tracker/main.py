import requests
import os
from dotenv import load_dotenv
import datetime


STOCK_NAME = "TSLA"
COMPANY_NAME = "Tesla Inc"

STOCK_ENDPOINT = "https://www.alphavantage.co/query"
NEWS_ENDPOINT = "https://newsapi.org/v2/everything"
load_dotenv("C:/Users/Bob/Desktop/WebDev/100 Days of Python -Angela Yu/.env.txt")
alpha_API = os.getenv("alpha_API")
news_API = os.getenv("news_API")

today = datetime.date.today()

    ## STEP 1: Use https://www.alphavantage.co/documentation/#daily
# When stock price increase/decreases by 5% between yesterday and the day before yesterday then print("Get News").

# alpha_params = {
#     'function': 'TIME_SERIES_DAILY',
#     'symbol': STOCK_NAME,
#     'apikey': alpha_API,
# }
# res = requests.get(url=STOCK_ENDPOINT, params=alpha_params)
# res.raise_for_status()
# data = res.json()
# print(data)

data = {'Meta Data': {'1. Information': 'Daily Prices (open, high, low, close) and Volumes', '2. Symbol': 'TSLA', '3. Last Refreshed': '2021-09-17', '4. Output Size': 'Compact', '5. Time Zone': 'US/Eastern'}, 'Time Series (Daily)': {'2021-09-17': {'1. open': '757.1500', '2. high': '761.0400', '3. low': '750.0000', '4. close': '759.4900', '5. volume': '28204176'}, '2021-09-16': {'1. open': '752.8300', '2. high': '758.9100', '3. low': '747.6100', '4. close': '756.9900', '5. volume': '13923393'}, '2021-09-15': {'1. open': '745.0000', '2. high': '756.8600', '3. low': '738.3600', '4. close': '755.8300', '5. volume': '15357685'}, '2021-09-14': {'1. open': '742.5700', '2. high': '754.4700', '3. low': '736.4000', '4. close': '744.4900', '5. volume': '18524881'}, '2021-09-13': {'1. open': '740.2143', '2. high': '744.7800', '3. low': '708.8500', '4. close': '743.0000', '5. volume': '22952482'}, '2021-09-10': {'1. open': '759.6000', '2. high': '762.6100', '3. low': '734.5201', '4. close': '736.2700', '5. volume': '15184170'}, '2021-09-09': {'1. open': '753.4100', '2. high': '762.1000', '3. low': '751.6301', '4. close': '754.8600', '5. volume': '14077731'}, '2021-09-08': {'1. open': '761.5800', '2. high': '764.4500', '3. low': '740.7733', '4. close': '753.8700', '5. volume': '18793036'}, '2021-09-07': {'1. open': '740.0000', '2. high': '760.2000', '3. low': '739.2600', '4. close': '752.9200', '5. volume': '20039825'}, '2021-09-03': {'1. open': '732.2494', '2. high': '734.0000', '3. low': '724.2000', '4. close': '733.5700', '5. volume': '15271045'}, '2021-09-02': {'1. open': '734.5000', '2. high': '740.9700', '3. low': '730.5400', '4. close': '732.3900', '5. volume': '12796739'}, '2021-09-01': {'1. open': '734.0800', '2. high': '741.9900', '3. low': '731.2701', '4. close': '734.0900', '5. volume': '13204335'}, '2021-08-31': {'1. open': '733.0000', '2. high': '740.3900', '3. low': '726.4400', '4. close': '735.7200', '5. volume': '20855436'}, '2021-08-30': {'1. open': '714.7150', '2. high': '731.0000', '3. low': '712.7300', '4. close': '730.9100', '5. volume': '18604220'}, '2021-08-27': {'1. open': '705.0000', '2. high': '715.0000', '3. low': '702.1001', '4. close': '711.9200', '5. volume': '13833763'}, '2021-08-26': {'1. open': '708.3100', '2. high': '715.4000', '3. low': '697.6201', '4. close': '701.1600', '5. volume': '13214292'}, '2021-08-25': {'1. open': '707.0300', '2. high': '716.9700', '3. low': '704.0000', '4. close': '711.2000', '5. volume': '12645562'}, '2021-08-24': {'1. open': '710.6800', '2. high': '715.2200', '3. low': '702.6400', '4. close': '708.4900', '5. volume': '13083071'}, '2021-08-23': {'1. open': '685.4420', '2. high': '712.1299', '3. low': '680.7505', '4. close': '706.3000', '5. volume': '20264859'}, '2021-08-20': {'1. open': '682.8500', '2. high': '692.1299', '3. low': '673.7000', '4. close': '680.2600', '5. volume': '14841865'}, '2021-08-19': {'1. open': '678.2100', '2. high': '686.5500', '3. low': '667.5900', '4. close': '673.4700', '5. volume': '14313486'}, '2021-08-18': {'1. open': '669.7479', '2. high': '695.7700', '3. low': '669.3500', '4. close': '688.9900', '5. volume': '20349375'}, '2021-08-17': {'1. open': '672.6600', '2. high': '674.5800', '3. low': '648.8400', '4. close': '665.7100', '5. volume': '23721279'}, '2021-08-16': {'1. open': '705.0700', '2. high': '709.5000', '3. low': '676.4000', '4. close': '686.1700', '5. volume': '23103303'}, '2021-08-13': {'1. open': '723.7100', '2. high': '729.9000', '3. low': '714.3400', '4. close': '717.1700', '5. volume': '16671844'}, '2021-08-12': {'1. open': '706.3400', '2. high': '722.8000', '3. low': '699.4000', '4. close': '722.2500', '5. volume': '17681686'}, '2021-08-11': {'1. open': '712.7100', '2. high': '715.1800', '3. low': '704.2100', '4. close': '707.8200', '5. volume': '9800558'}, '2021-08-10': {'1. open': '713.9900', '2. high': '716.5900', '3. low': '701.8800', '4. close': '709.9900', '5. volume': '13432305'}, '2021-08-09': {'1. open': '710.1700', '2. high': '719.0300', '3. low': '705.1300', '4. close': '713.7600', '5. volume': '14715349'}, '2021-08-06': {'1. open': '711.9000', '2. high': '716.3300', '3. low': '697.6300', '4. close': '699.1000', '5. volume': '15623049'}, '2021-08-05': {'1. open': '716.0000', '2. high': '720.9499', '3. low': '711.4100', '4. close': '714.6300', '5. volume': '12919637'}, '2021-08-04': {'1. open': '711.0000', '2. high': '724.9000', '3. low': '708.9300', '4. close': '710.9200', '5. volume': '17002647'}, '2021-08-03': {'1. open': '719.0000', '2. high': '722.6500', '3. low': '701.0100', '4. close': '709.7400', '5. volume': '21620253'}, '2021-08-02': {'1. open': '700.0000', '2. high': '726.9400', '3. low': '698.4000', '4. close': '709.6700', '5. volume': '33615765'}, '2021-07-30': {'1. open': '671.7580', '2. high': '697.5300', '3. low': '669.0000', '4. close': '687.2000', '5. volume': '29656411'}, '2021-07-29': {'1. open': '649.7900', '2. high': '683.6900', '3. low': '648.8000', '4. close': '677.3500', '5. volume': '29688446'}, '2021-07-28': {'1. open': '646.9950', '2. high': '654.9699', '3. low': '639.4001', '4. close': '646.9800', '5. volume': '16006596'}, '2021-07-27': {'1. open': '663.4000', '2. high': '666.5000', '3. low': '627.2400', '4. close': '644.7800', '5. volume': '32813290'}, '2021-07-26': {'1. open': '650.9700', '2. high': '668.1999', '3. low': '647.1100', '4. close': '657.6200', '5. volume': '25336556'}, '2021-07-23': {'1. open': '646.3600', '2. high': '648.8000', '3. low': '637.3001', '4. close': '643.3800', '5. volume': '14604944'}, '2021-07-22': {'1. open': '656.4428', '2. high': '662.1700', '3. low': '644.6001', '4. close': '649.2600', '5. volume': '15105727'}, '2021-07-21': {'1. open': '659.6100', '2. high': '664.8599', '3. low': '650.2901', '4. close': '655.2900', '5. volume': '13953338'}, '2021-07-20': {'1. open': '651.9900', '2. high': '662.3916', '3. low': '640.5010', '4. close': '660.5000', '5. volume': '15487127'}, '2021-07-19': {'1. open': '629.8900', '2. high': '647.1999', '3. low': '621.2900', '4. close': '646.2200', '5. volume': '21297090'}, '2021-07-16': {'1. open': '654.6800', '2. high': '656.6999', '3. low': '642.2000', '4. close': '644.2200', '5. volume': '16370970'}, '2021-07-15': {'1. open': '658.3900', '2. high': '666.1400', '3. low': '637.8800', '4. close': '650.6000', '5. volume': '20209571'}, '2021-07-14': {'1. open': '670.7500', '2. high': '678.6099', '3. low': '652.8400', '4. close': '653.3800', '5. volume': '21641190'}, '2021-07-13': {'1. open': '686.3200', '2. high': '693.2800', '3. low': '666.2958', '4. close': '668.5400', '5. volume': '20966092'}, '2021-07-12': {'1. open': '662.2000', '2. high': '687.2400', '3. low': '662.1610', '4. close': '685.7000', '5. volume': '25927042'}, '2021-07-09': {'1. open': '653.1850', '2. high': '658.9100', '3. low': '644.6900', '4. close': '656.9500', '5. volume': '18140548'}, '2021-07-08': {'1. open': '628.3700', '2. high': '654.4300', '3. low': '620.4600', '4. close': '652.8100', '5. volume': '22773316'}, '2021-07-07': {'1. open': '664.2700', '2. high': '665.7000', '3. low': '638.3200', '4. close': '644.6500', '5. volume': '18791960'}, '2021-07-06': {'1. open': '681.7115', '2. high': '684.0000', '3. low': '651.4002', '4. close': '659.5800', '5. volume': '23284450'}, '2021-07-02': {'1. open': '678.9800', '2. high': '700.0000', '3. low': '673.2600', '4. close': '678.9000', '5. volume': '27097374'}, '2021-07-01': {'1. open': '683.9200', '2. high': '687.9900', '3. low': '672.8000', '4. close': '677.9200', '5. volume': '18634522'}, '2021-06-30': {'1. open': '679.7700', '2. high': '692.8100', '3. low': '678.1400', '4. close': '679.7000', '5. volume': '18924862'}, '2021-06-29': {'1. open': '684.6500', '2. high': '687.5099', '3. low': '675.8900', '4. close': '680.7600', '5. volume': '17381313'}, '2021-06-28': {'1. open': '671.6400', '2. high': '694.6999', '3. low': '670.3200', '4. close': '688.7200', '5. volume': '21628159'}, '2021-06-25': {'1. open': '689.5800', '2. high': '693.8100', '3. low': '668.7000', '4. close': '671.8700', '5. volume': '32496707'}, '2021-06-24': {'1. open': '674.9900', '2. high': '697.6200', '3. low': '667.6100', '4. close': '679.8200', '5. volume': '45982386'}, '2021-06-23': {'1. open': '632.0000', '2. high': '657.2040', '3. low': '630.0400', '4. close': '656.5700', '5. volume': '31099228'}, '2021-06-22': {'1. open': '618.2500', '2. high': '628.5693', '3. low': '615.5000', '4. close': '623.7100', '5. volume': '19158892'}, '2021-06-21': {'1. open': '624.4800', '2. high': '631.3900', '3. low': '608.8800', '4. close': '620.8300', '5. volume': '24812741'}, '2021-06-18': {'1. open': '613.3700', '2. high': '628.3500', '3. low': '611.8000', '4. close': '623.3100', '5. volume': '24560905'}, '2021-06-17': {'1. open': '601.8878', '2. high': '621.4700', '3. low': '601.3400', '4. close': '616.6000', '5. volume': '22701350'}, '2021-06-16': {'1. open': '597.5350', '2. high': '608.5000', '3. low': '593.5000', '4. close': '604.8700', '5. volume': '21845739'}, '2021-06-15': {'1. open': '616.6900', '2. high': '616.7900', '3. low': '598.2300', '4. close': '599.3600', '5. volume': '17764145'}, '2021-06-14': {'1. open': '612.2300', '2. high': '625.4900', '3. low': '609.1800', '4. close': '617.6900', '5. volume': '20423983'}, '2021-06-11': {'1. open': '610.2300', '2. high': '612.5600', '3. low': '601.5200', '4. close': '609.8900', '5. volume': '16205303'}, '2021-06-10': {'1. open': '603.8800', '2. high': '616.5900', '3. low': '600.5000', '4. close': '610.1200', '5. volume': '23919606'}, '2021-06-09': {'1. open': '602.1700', '2. high': '611.7900', '3. low': '597.6301', '4. close': '598.7800', '5. volume': '16584566'}, '2021-06-08': {'1. open': '623.0100', '2. high': '623.0900', '3. low': '595.5000', '4. close': '603.5900', '5. volume': '26053405'}, '2021-06-07': {'1. open': '591.8250', '2. high': '610.0000', '3. low': '582.8800', '4. close': '605.1300', '5. volume': '22543682'}, '2021-06-04': {'1. open': '579.7100', '2. high': '600.6100', '3. low': '577.2000', '4. close': '599.0500', '5. volume': '24036896'}, '2021-06-03': {'1. open': '601.8000', '2. high': '604.5500', '3. low': '571.2200', '4. close': '572.8400', '5. volume': '30111893'}, '2021-06-02': {'1. open': '620.1300', '2. high': '623.3600', '3. low': '599.1400', '4. close': '605.1200', '5. volume': '23302779'}, '2021-06-01': {'1. open': '627.8000', '2. high': '633.8000', '3. low': '620.5500', '4. close': '623.9000', '5. volume': '18084890'}, '2021-05-28': {'1. open': '628.5000', '2. high': '635.5900', '3. low': '622.3800', '4. close': '625.2200', '5. volume': '22737038'}, '2021-05-27': {'1. open': '620.2400', '2. high': '631.1300', '3. low': '616.2100', '4. close': '630.8500', '5. volume': '26370593'}, '2021-05-26': {'1. open': '607.5600', '2. high': '626.1700', '3. low': '601.5000', '4. close': '619.1300', '5. volume': '28639305'}, '2021-05-25': {'1. open': '607.3100', '2. high': '613.9900', '3. low': '595.7100', '4. close': '604.6900', '5. volume': '28005933'}, '2021-05-24': {'1. open': '581.6000', '2. high': '614.4800', '3. low': '573.6500', '4. close': '606.4400', '5. volume': '34558089'}, '2021-05-21': {'1. open': '596.1100', '2. high': '596.6800', '3. low': '580.0000', '4. close': '580.8800', '5. volume': '26030595'}, '2021-05-20': {'1. open': '575.0000', '2. high': '588.8500', '3. low': '571.0700', '4. close': '586.7800', '5. volume': '30821119'}, '2021-05-19': {'1. open': '552.5500', '2. high': '566.2100', '3. low': '546.9800', '4. close': '563.4600', '5. volume': '39578395'}, '2021-05-18': {'1. open': '568.0000', '2. high': '596.2500', '3. low': '563.3800', '4. close': '577.8700', '5. volume': '36830567'}, '2021-05-17': {'1. open': '575.5531', '2. high': '589.7300', '3. low': '561.2000', '4. close': '576.8300', '5. volume': '32390360'}, '2021-05-14': {'1. open': '583.4100', '2. high': '592.8700', '3. low': '570.4600', '4. close': '589.7400', '5. volume': '33370856'}, '2021-05-13': {'1. open': '601.5450', '2. high': '606.4599', '3. low': '559.6500', '4. close': '571.6900', '5. volume': '44184916'}, '2021-05-12': {'1. open': '602.4900', '2. high': '620.4100', '3. low': '586.7650', '4. close': '589.8900', '5. volume': '33823646'}, '2021-05-11': {'1. open': '599.2400', '2. high': '627.0999', '3. low': '595.6000', '4. close': '617.2000', '5. volume': '46503896'}, '2021-05-10': {'1. open': '664.9000', '2. high': '665.0500', '3. low': '627.6101', '4. close': '629.0400', '5. volume': '31392417'}, '2021-05-07': {'1. open': '665.8000', '2. high': '690.0000', '3. low': '660.2200', '4. close': '672.3700', '5. volume': '23469172'}, '2021-05-06': {'1. open': '680.7600', '2. high': '681.0200', '3. low': '650.0000', '4. close': '663.5400', '5. volume': '27784619'}, '2021-05-05': {'1. open': '681.0600', '2. high': '685.2955', '3. low': '667.3400', '4. close': '670.9400', '5. volume': '21901894'}, '2021-05-04': {'1. open': '678.9400', '2. high': '683.4464', '3. low': '657.7010', '4. close': '673.6000', '5. volume': '29739319'}, '2021-05-03': {'1. open': '703.8000', '2. high': '706.0000', '3. low': '680.5000', '4. close': '684.9000', '5. volume': '27043143'}, '2021-04-30': {'1. open': '667.5900', '2. high': '715.4700', '3. low': '666.1400', '4. close': '709.4400', '5. volume': '40758722'}, '2021-04-29': {'1. open': '699.5100', '2. high': '702.2500', '3. low': '668.5002', '4. close': '677.0000', '5. volume': '28845449'}, '2021-04-28': {'1. open': '696.4100', '2. high': '708.5000', '3. low': '693.6000', '4. close': '694.4000', '5. volume': '22271047'}}}

# find the 2 most recent trading days from our data dictionary
dates = list(data['Time Series (Daily)'].keys())
most_recent_day = dates[0]
second_recent_day = dates[1]

# get previous 2 trading days closing values and calculate % change
prev_close = float(data['Time Series (Daily)'][most_recent_day]['4. close'])
sec_prev_close = float(data['Time Series (Daily)'][second_recent_day]['4. close'])
val_change = abs(prev_close - sec_prev_close)
perc_change = (val_change * 100)/sec_prev_close


if perc_change > 5:
    print("GET NEWS")

# news_params = {
#     "q": COMPANY_NAME,
#     "from": prev_close,
#     "sortBy": "popularity",
#     "apiKey": news_API
# }
#
# news_res = requests.get(url=NEWS_ENDPOINT, params=news_params)
# news_res.raise_for_status()
# news_data = news_res.json()

# print(news_data)

news_data = {'status': 'ok', 'totalResults': 1220, 'articles': [{'source': {'id': 'techcrunch', 'name': 'TechCrunch'}, 'author': 'Kirsten Korosec', 'title': 'The Station: Bird’s improving scooter-nomics, breaking down Tesla AI day and the Nuro EC-1', 'description': 'The Station is a weekly newsletter dedicated to all things transportation.\xa0Sign up here — just click The Station — to receive it every weekend in your inbox. Hello readers: Welcome to The Station, your central hub for all past, present and future means of mov…', 'url': 'http://techcrunch.com/2021/08/23/the-station-birds-improving-scooter-nomics-and-breaking-down-tesla-ai-day/', 'urlToImage': 'https://techcrunch.com/wp-content/uploads/2021/08/1894129364-NSussman_Techcrunch_Nuro-FINAL_full-L.jpg?w=600', 'publishedAt': '2021-08-23T11:00:34Z', 'content': 'The Station is a weekly newsletter dedicated to all things transportation.\xa0Sign up here just click The Station to receive it every weekend in your inbox.\r\nHello readers: Welcome to The Station, your … [+13724 chars]'}, {'source': {'id': 'techcrunch', 'name': 'TechCrunch'}, 'author': 'Lucas Matney', 'title': 'The GoPro-ification of the iPhone', 'description': 'Hello friends, and welcome back to Week in Review! Last week, we talked about some sunglasses from a company that many people do not like very much. This week, we’re talking about Apple and the company 1,600 times smaller than it that’s facing similar product…', 'url': 'http://techcrunch.com/2021/09/18/the-gopro-ification-of-the-iphone/', 'urlToImage': 'https://techcrunch.com/wp-content/uploads/2021/09/AppleEvent.SEP14Keynote.Tim_Cook.02.jpg?w=600', 'publishedAt': '2021-09-18T17:58:20Z', 'content': 'Hello friends, and welcome back to Week in Review!\r\nLast week, we talked about some sunglasses from a company that many people do not like very much. This week, we’re talking about Apple and the comp… [+7273 chars]'}, {'source': {'id': 'techcrunch', 'name': 'TechCrunch'}, 'author': 'Richard Dal Porto', 'title': 'Daily Crunch: In latest tech crackdown, China plans severe algorithm restrictions', 'description': 'Hello friends and welcome to Daily Crunch, bringing you the most important startup, tech and venture capital news in a single package.', 'url': 'http://techcrunch.com/2021/08/27/2195254/', 'urlToImage': 'https://techcrunch.com/wp-content/uploads/2021/05/GettyImages-1148122627.jpg?w=600', 'publishedAt': '2021-08-27T22:10:44Z', 'content': 'To get a roundup of TechCrunchs biggest and most important stories delivered to your inbox every day at 3 p.m. PDT, subscribe here.\r\nHello and welcome to Daily Crunch for Friday, August 27, 2021. Wha… [+7111 chars]'}, {'source': {'id': 'techcrunch', 'name': 'TechCrunch'}, 'author': 'Richard Dal Porto', 'title': 'Daily Crunch: 8 Indian banks launch Account Aggregator to centralize consumers’ financial data', 'description': 'Hello friends and welcome to Daily Crunch, bringing you the most important startup, tech and venture capital news in a single package.', 'url': 'http://techcrunch.com/2021/09/02/daily-crunch-8-indian-banks-launch-account-aggregator-to-centralize-consumers-financial-data/', 'urlToImage': 'https://techcrunch.com/wp-content/uploads/2021/06/GettyImages-804519022.jpg?w=588', 'publishedAt': '2021-09-02T22:10:25Z', 'content': 'To get a roundup of TechCrunchs biggest and most important stories delivered to your inbox every day at 3 p.m. PDT, subscribe here.\r\nHello and welcome to Daily Crunch for Thursday, September 2, 2021.… [+6144 chars]'}, {'source': {'id': 'techcrunch', 'name': 'TechCrunch'}, 'author': 'Kirsten Korosec', 'title': 'The Station: Rivian makes its IPO move, Nuro pushes into Nevada and Waymo scales up in SF', 'description': 'The Station is a weekly newsletter dedicated to all things transportation.\xa0Sign up here — just click The Station — to receive it every weekend in your inbox. Hello readers: Welcome to The Station, your central hub for all past, present and future means of mov…', 'url': 'http://techcrunch.com/2021/08/30/the-station-rivian-makes-its-ipo-move-nuro-pushes-into-nevada-and-waymo-scales-up-in-sf/', 'urlToImage': 'https://techcrunch.com/wp-content/uploads/2020/03/Screen-Shot-2020-03-05-at-3.56.40-PM.jpg?w=720', 'publishedAt': '2021-08-30T14:13:45Z', 'content': 'The Station is a weekly newsletter dedicated to all things transportation.\xa0Sign up here just click The Station to receive it every weekend in your inbox.\r\nHello readers: Welcome to The Station, your … [+16431 chars]'}, {'source': {'id': 'techcrunch', 'name': 'TechCrunch'}, 'author': 'Danny Crichton', 'title': 'The tough calculus of emissions and the future of EVs', 'description': 'Mark Mills Contributor Share on Twitter Mark Mills is the author of the forthcoming book, "The Cloud Revolution: How the Convergence of New Technologies Will Unleash the Next Economic Boom and a Roaring 2020s." He is a senior fellow at the Manhattan Institute…', 'url': 'http://techcrunch.com/2021/08/22/the-tough-calculus-of-emissions-and-the-future-of-evs/', 'urlToImage': 'https://techcrunch.com/wp-content/uploads/2021/08/GettyImages-1307690818.jpg?w=647', 'publishedAt': '2021-08-22T15:00:02Z', 'content': 'Investors and politicians embracing a vision of an all-electric car future believe that path will significantly reduce global carbon dioxide emissions. Thats far from clear.\r\nA growing body of resear… [+22132 chars]'}, {'source': {'id': 'reuters', 'name': 'Reuters'}, 'author': 'David Shepardson', 'title': 'U.S. identifies 12th Tesla assisted systems car crash involving emergency vehicle - Reuters', 'description': 'U.S. auto safety regulators said on Wednesday they had identified a 12th crash involving Tesla Inc <a href="https://www.reuters.com/companies/TSLA.O" target="_blank">(TSLA.O)</a> vehicles that were using advanced driver assistance systems in incidents involvi…', 'url': 'https://www.reuters.com/business/autos-transportation/us-identifies-12th-tesla-assisted-systems-car-crash-involving-emergency-vehicle-2021-09-01/', 'urlToImage': 'https://www.reuters.com/resizer/1kgipieDg6sut8wSZk9syGF_-oE=/1200x628/smart/filters:quality(80)/cloudfront-us-east-2.images.arcpublishing.com/reuters/Y3OSX6DIBVMORJAHNK4VN5UGPU.jpg', 'publishedAt': '2021-09-01T13:17:00Z', 'content': 'A Tesla logo on a Model S is photographed inside of a Tesla dealership in New York, U.S., April 29, 2016. REUTERS/Lucas Jackson/File PhotoWASHINGTON, Sept 1 (Reuters) - U.S. auto safety regulators sa… [+2551 chars]'}, {'source': {'id': 'reuters', 'name': 'Reuters'}, 'author': 'Reuters Staff', 'title': "Tesla's Musk signals concerns over Nvidia deal for UK chip maker -The Telegraph - Reuters.com", 'description': "Tesla Inc Chief Executive Elon Musk has signaled competition concerns over Nvidia Corp's planned purchase of British chip designer Arm, the Telegraph reported on Saturday, citing multiple sources.", 'url': 'https://www.reuters.com/article/us-arm-holdings-m-a-nvidia-elon-musk-idUSKBN2FU02N', 'urlToImage': 'https://static.reuters.com/resources/r/?m=02&d=20210829&t=2&i=1573237585&r=LYNXMPEH7S01J&w=800', 'publishedAt': '2021-08-29T02:26:39Z', 'content': "By Reuters Staff\r\nFILE PHOTO: SpaceX founder and Tesla CEO Elon Musk looks on as he visits the construction site of Tesla's gigafactory in Gruenheide, near Berlin, Germany, May 17, 2021. REUTERS/Mich… [+922 chars]"}, {'source': {'id': 'reuters', 'name': 'Reuters'}, 'author': 'Reuters Staff', 'title': "Tesla's Musk signals concerns over Nvidia deal for UK chip maker -The Telegraph - Reuters.com", 'description': "Tesla Inc Chief Executive Elon Musk has signaled competition concerns over Nvidia Corp's planned purchase of British chip designer Arm, the Telegraph reported on Saturday, citing multiple sources.", 'url': 'https://www.reuters.com/article/us-arm-holdings-m-a-nvidia-elon-musk-idINKBN2FU02N', 'urlToImage': 'https://static.reuters.com/resources/r/?m=02&d=20210829&t=2&i=1573237585&r=LYNXMPEH7S01J&w=800', 'publishedAt': '2021-08-29T02:00:00Z', 'content': "By Reuters Staff\r\nFILE PHOTO: SpaceX founder and Tesla CEO Elon Musk looks on as he visits the construction site of Tesla's gigafactory in Gruenheide, near Berlin, Germany, May 17, 2021. REUTERS/Mich… [+922 chars]"}, {'source': {'id': 'reuters', 'name': 'Reuters'}, 'author': 'Reuters', 'title': "Tesla's Roadster shipment to be delayed to 2023, says Musk - Reuters", 'description': 'Tesla Inc <a href="https://www.reuters.com/companies/TSLA.O" target="_blank">(TSLA.O)</a> top boss Elon Musk on Wednesday signaled a one-year delay in the shipment of Roadster sports car to 2023, citing global supply chain bottlenecks.', 'url': 'https://www.reuters.com/business/autos-transportation/teslas-musk-says-2021-has-been-year-super-crazy-supply-chain-shortages-2021-09-01/', 'urlToImage': 'https://www.reuters.com/resizer/FsvB1t-kUxQOXqBtyqj4IAKZCIw=/1200x628/smart/filters:quality(80)/cloudfront-us-east-2.images.arcpublishing.com/reuters/INI5GMRZAJJKFOIXI52FZ6AFRA.jpg', 'publishedAt': '2021-09-01T18:46:00Z', 'content': 'Sept 1 (Reuters) - Tesla Inc (TSLA.O) top boss Elon Musk on Wednesday signaled a one-year delay in the shipment of Roadster sports car to 2023, citing global supply chain bottlenecks.\r\nMusk had in Ja… [+1006 chars]'}, {'source': {'id': 'reuters', 'name': 'Reuters'}, 'author': None, 'title': 'Tesla to work with global regulators to ensure data security -Musk - Reuters', 'description': 'Electric vehicle maker Tesla Inc <a href="https://www.reuters.com/companies/TSLA.O" target="_blank">(TSLA.O)</a> will work with global regulators to ensure data security, Chief Executive Elon Musk told the World New Energy Vehicle Congress in China on Friday.', 'url': 'https://www.reuters.com/technology/tesla-work-with-global-regulators-ensure-data-security-musk-2021-09-17/', 'urlToImage': 'https://www.reuters.com/resizer/MLwbTamckwWrblEg_T4xGQou0dk=/1200x628/smart/filters:quality(80)/cloudfront-us-east-2.images.arcpublishing.com/reuters/5ENJGBNGHBN2RH64F3KKP247ZI.jpg', 'publishedAt': '2021-09-17T02:29:00Z', 'content': "Tesla CEO Elon Musk gestures as he visits the construction site of Tesla's Gigafactory in Gruenheide near Berlin, Germany, August 13, 2021. Patrick Pleul/Pool via Reuters/File PhotoSHANGHAI, Sept 17 … [+1187 chars]"}, {'source': {'id': 'reuters', 'name': 'Reuters'}, 'author': None, 'title': "Amazon.com goes for jugular in FCC spat with SpaceX's Musk - Reuters", 'description': 'Amazon.com Inc <a href="https://www.reuters.com/companies/AMZN.O" target="_blank">(AMZN.O)</a> told U.S. regulators on Wednesday that Elon Musk does not believe government regulations apply to the billionaire who heads Tesla Inc <a href="https://www.reuters.c…', 'url': 'https://www.reuters.com/technology/amazoncom-goes-jugular-fcc-spat-with-spacexs-musk-2021-09-08/', 'urlToImage': 'https://www.reuters.com/resizer/MLwbTamckwWrblEg_T4xGQou0dk=/1200x628/smart/filters:quality(80)/cloudfront-us-east-2.images.arcpublishing.com/reuters/5ENJGBNGHBN2RH64F3KKP247ZI.jpg', 'publishedAt': '2021-09-08T18:41:00Z', 'content': "Tesla CEO Elon Musk gestures as he visits the construction site of Tesla's Gigafactory in Gruenheide near Berlin, Germany, August 13, 2021. Patrick Pleul/Pool via Reuters/File PhotoWASHINGTON, Sept 8… [+2637 chars]"}, {'source': {'id': 'reuters', 'name': 'Reuters'}, 'author': 'Reuters', 'title': "Indian auto parts makers' shares gain on report of talks with Tesla - Reuters", 'description': 'Shares of Indian auto parts suppliers rose as much as 14% on Monday following a report electric-vehicle maker Tesla Inc <a href="https://www.reuters.com/companies/TSLA.O" target="_blank">(TSLA.O)</a> was in talks with at least three companies to source critic…', 'url': 'https://www.reuters.com/business/autos-transportation/indian-auto-parts-makers-shares-gain-report-talks-with-tesla-2021-08-30/', 'urlToImage': 'https://www.reuters.com/resizer/Q2lQCGQKfCgGi8JoYURH6G4vcVI=/1200x628/smart/filters:quality(80)/cloudfront-us-east-2.images.arcpublishing.com/reuters/3WRGQSHS3FJFTECZMVXUCE6GFU.jpg', 'publishedAt': '2021-08-30T08:12:00Z', 'content': 'The logo of car manufacturer Tesla is seen at a dealership in London, Britain, May 14, 2021. REUTERS/Matthew Childs/File PhotoBENGALURU, Aug 30 (Reuters) - Shares of Indian auto parts suppliers rose … [+1946 chars]'}, {'source': {'id': 'reuters', 'name': 'Reuters'}, 'author': 'Reuters', 'title': "Tesla's Musk signals concerns over Nvidia deal for UK chip maker -The Telegraph - Reuters", 'description': 'Tesla Inc <a href="https://www.reuters.com/companies/TSLA.O" target="_blank">(TSLA.O)</a> Chief Executive Elon Musk has signaled competition concerns over Nvidia Corp\'s <a href="https://www.reuters.com/companies/NVDA.O" target="_blank">(NVDA.O)</a> planned pu…', 'url': 'https://www.reuters.com/technology/teslas-musk-signals-concerns-over-nvidia-deal-uk-chip-maker-the-telegraph-2021-08-29/', 'urlToImage': 'https://www.reuters.com/resizer/ZtcmwCDM5I9wdwgJL6yjguLf5RA=/1200x628/smart/filters:quality(80)/cloudfront-us-east-2.images.arcpublishing.com/reuters/H4ZW4UYF4VJ2NI6EORO3UU5ORM.jpg', 'publishedAt': '2021-08-29T02:03:00Z', 'content': "SpaceX founder and Tesla CEO Elon Musk looks on as he visits the construction site of Tesla's gigafactory in Gruenheide, near Berlin, Germany, May 17, 2021. REUTERS/Michele Tantussi/File PhotoAug 28 … [+1054 chars]"}, {'source': {'id': 'reuters', 'name': 'Reuters'}, 'author': 'Reuters', 'title': "Tesla's China output halted for days in August on chip shortage - Bloomberg News - Reuters", 'description': 'Tesla Inc <a href="https://www.reuters.com/companies/TSLA.O" target="_blank">(TSLA.O)</a> temporarily halted some operations at its Shanghai factory last month as the global shortage of semiconductors hit the electric car maker, Bloomberg News reported on Thu…', 'url': 'https://www.reuters.com/business/autos-transportation/teslas-china-output-halted-days-august-chip-shortage-bloomberg-news-2021-09-02/', 'urlToImage': 'https://www.reuters.com/resizer/fz9DslimqkHsCFP82z-D5lcCQrY=/1200x628/smart/filters:quality(80)/cloudfront-us-east-2.images.arcpublishing.com/reuters/TPYAWHZIO5KC7JQ7NCLOSVNA2Q.jpg', 'publishedAt': '2021-09-02T07:55:00Z', 'content': 'The logo of car manufacturer Tesla is seen at a branch office in Bern, Switzerland October 28, 2020. REUTERS/Arnd WiegmannSept 2 (Reuters) - Tesla Inc (TSLA.O) temporarily halted some operations at i… [+993 chars]'}, {'source': {'id': 'reuters', 'name': 'Reuters'}, 'author': 'Reuters Staff', 'title': 'Amazon-backed Rivian seeking $70-80 billion valuation in IPO - source - Reuters', 'description': 'Amazon.com Inc-backed electric vehicle company Rivian is seeking a valuation of around $70-80 billion in its initial public offering, a source familiar with the matter told Reuters on Friday.', 'url': 'https://www.reuters.com/article/us-rivian-ipo-idUSKBN2FS1J8', 'urlToImage': 'https://static.reuters.com/resources/r/?m=02&d=20210827&t=2&i=1573127673&r=LYNXMPEH7Q0P5&w=800', 'publishedAt': '2021-08-27T15:04:00Z', 'content': 'By Reuters Staff\r\nFILE PHOTO: The logo for electric vehicle startup Rivian is seen on the hood of its new R1T all-electric truck in Mill Valley, California, U.S., January 25, 2020. REUTERS/Nathan Fra… [+1359 chars]'}, {'source': {'id': 'reuters', 'name': 'Reuters'}, 'author': 'Reuters', 'title': 'Tesla, Japanese firms to build energy storage facility in Hokkaido - Reuters', 'description': 'Tesla Inc <a href="https://www.reuters.com/companies/TSLA.O" target="_blank">(TSLA.O)</a> said on Thursday it will join hands with Japanese companies to build an energy storage facility using its rechargeable battery in Hokkaido in northern Japan to help stab…', 'url': 'https://www.reuters.com/business/energy/tesla-japanese-firms-build-energy-storage-facility-hokkaido-2021-08-19/', 'urlToImage': 'https://www.reuters.com/pf/resources/images/reuters/reuters-default.png?d=49', 'publishedAt': '2021-08-19T10:43:00Z', 'content': 'TOKYO, Aug 19 (Reuters) - Tesla Inc (TSLA.O) said on Thursday it will join hands with Japanese companies to build an energy storage facility using its rechargeable battery in Hokkaido in northern Jap… [+1118 chars]'}, {'source': {'id': 'reuters', 'name': 'Reuters'}, 'author': 'Reuters', 'title': 'Amazon-backed Rivian seeks $70-80 bln valuation in IPO - source - Reuters', 'description': 'Amazon.com Inc-backed <a href="https://www.reuters.com/companies/AMZN.O" target="_blank">(AMZN.O)</a> electric vehicle company Rivian is seeking a valuation of around $70-80 billion in its initial public offering, a source familiar with the matter told Reuter…', 'url': 'https://www.reuters.com/business/autos-transportation/amazon-backed-rivian-seeking-70-80-billion-valuation-ipo-source-2021-08-27/', 'urlToImage': 'https://www.reuters.com/resizer/f2nvPMhgMJ8HnEUjKu87YrOv9Ww=/1200x628/smart/filters:quality(80)/cloudfront-us-east-2.images.arcpublishing.com/reuters/YB7PI7QSSNKUNCUH2BMHNK2BI4.jpg', 'publishedAt': '2021-08-27T15:17:00Z', 'content': 'The logo for electric vehicle startup Rivian is seen on the hood of its new R1T all-electric truck in Mill Valley, California, U.S., January 25, 2020. REUTERS/Nathan Frandino/File PhotoAug 27 (Reuter… [+1592 chars]'}, {'source': {'id': 'reuters', 'name': 'Reuters'}, 'author': None, 'title': 'Apple car project chief to leave for Ford - Bloomberg News - Reuters', 'description': 'Ford Motor Co <a href="https://www.reuters.com/companies/F.N" target="_blank">(F.N)</a> on Tuesday named Apple Inc <a href="https://www.reuters.com/companies/AAPL.O" target="_blank">(AAPL.O)</a> car project head Doug Field as its chief advanced technology and…', 'url': 'https://www.reuters.com/technology/apple-car-project-chief-leave-ford-bloomberg-news-2021-09-07/', 'urlToImage': 'https://www.reuters.com/pf/resources/images/reuters/reuters-default.png?d=52', 'publishedAt': '2021-09-07T19:02:00Z', 'content': 'Sept 7 (Reuters) - Ford Motor Co (F.N) on Tuesday named Apple Inc (AAPL.O) car project head Doug Field as its chief advanced technology and embedded systems officer.\r\nField most recently served as vi… [+433 chars]'}, {'source': {'id': 'reuters', 'name': 'Reuters'}, 'author': 'Ben Klayman, Anirban Sen', 'title': 'Rivian aims to raise as much as $8 bln in IPO -sources - Reuters', 'description': 'Rivian, the Amazon.com Inc-backed electric vehicle maker that registered last month for a stock market debut, is aiming to raise between $5 billion and $8 billion with the listing, making it one largest U.S. initial public offerings of recent years, according…', 'url': 'https://www.reuters.com/article/rivian-ipo-idUSKBN2GB1X3', 'urlToImage': 'https://static.reuters.com/resources/r/?m=02&d=20210915&t=2&i=1574919168&r=LYNXMPEH8E10W&w=800', 'publishedAt': '2021-09-15T16:49:00Z', 'content': '(Reuters) - Rivian, the Amazon.com Inc-backed electric vehicle maker that registered last month for a stock market debut, is aiming to raise between $5 billion and $8 billion with the listing, making… [+2413 chars]'}]}

print(news_data['articles'][0:3]) # create list of 3 articles
print(news_data['articles'][0]['title'])



#TODO 6. - Instead of printing ("Get News"), use the News API to get articles related to the COMPANY_NAME.

#TODO 7. - Use Python slice operator to create a list that contains the first 3 articles. Hint: https://stackoverflow.com/questions/509211/understanding-slice-notation


    ## STEP 3: Use twilio.com/docs/sms/quickstart/python
    #to send a separate message with each article's title and description to your phone number. 

#TODO 8. - Create a new list of the first 3 article's headline and description using list comprehension.

#TODO 9. - Send each article as a separate message via Twilio. 



#Optional TODO: Format the message like this: 
"""
TSLA: 🔺2%
Headline: Were Hedge Funds Right About Piling Into Tesla Inc. (TSLA)?. 
Brief: We at Insider Monkey have gone over 821 13F filings that hedge funds and prominent investors are required to file by the SEC The 13F filings show the funds' and investors' portfolio positions as of March 31st, near the height of the coronavirus market crash.
or
"TSLA: 🔻5%
Headline: Were Hedge Funds Right About Piling Into Tesla Inc. (TSLA)?. 
Brief: We at Insider Monkey have gone over 821 13F filings that hedge funds and prominent investors are required to file by the SEC The 13F filings show the funds' and investors' portfolio positions as of March 31st, near the height of the coronavirus market crash.
"""

